{{ define "main" }}
{{ .Content}}

<h2>Upcoming</h2>
<table class="table table-hover">
    <thead class="thead-inverse">
        <tr>
            <th>Date</th>
            <th>Event</th>
            <th>Title</th>
            <th>Location</th>
        </tr>
    </thead>    
    <tbody>
    {{ range (where (where .Data.Pages "Section" "speaking") ".Params.presentation_date" "ge" now).ByParam "presentation_date" }}
        <tr>
            <td>{{ dateFormat "Jan 2, 2006" .Params.presentation_date }}</td>
            <td>
            {{- if isset .Params "event_url" -}}
                <a href = "{{ .Params.event_url }}">{{ .Params.event_name }}</a>
            {{- else -}}
                {{ .Params.event_name }}
            {{- end -}}
            </td>
            <td>
            {{- if isset .Params "detail_url" -}}
                <a href = "{{ .Params.detail_url }}">{{ .Title }}</a>
            {{- else -}}
                {{ .Title }}
            {{- end -}}
            </td>
            <td>{{ .Params.event_location }}</td>
        </tr>
        {{ end }}
    </tbody>

</table>

<h2>Past</h2>

<table class="table table-hover">
        <thead class="thead-inverse">
            <tr>
                <th>Date</th>
                <th>Event</th>
                <th>Title</th>
                <th>Location</th>
            </tr>
        </thead>    
        <tbody>
        {{ range sort (where (where .Data.Pages "Section" "speaking") ".Params.presentation_date" "lt" now) ".Params.presentation_date" "desc" }}
            <tr>
                <td>{{ dateFormat "Jan 2006" .Params.presentation_date }}</td>
                <td>
                {{- if isset .Params "event_url" -}}
                    <a href = "{{ .Params.event_url }}">{{ .Params.event_name }}</a>
                {{- else -}}
                    {{ .Params.event_name }}
                {{- end -}}
                </td>
                <td>
                {{- if isset .Params "detail_url" -}}
                    <a href = "{{ .Params.detail_url }}">{{ .Title }}</a>
                {{- else -}}
                    {{ .Title }}
                {{- end -}}
                {{ with .Params.video }}
                    &nbsp;<a href = "{{.}}"><i class="fab fa-youtube"></i></a>
                {{ end }}
                {{ with .Params.slides }}
                    &nbsp;<a href = "{{.}}"><i class="fas fa-file-powerpoint"></i></a>
                {{ end }}
                </td>
                <td>{{ .Params.event_location }}</td>
            </tr>
            {{ end }}
        </tbody>
    
    </table>

{{ end }}